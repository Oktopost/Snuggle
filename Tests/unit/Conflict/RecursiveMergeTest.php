<?php
namespace Snuggle\Conflict;


use PHPUnit\Framework\TestCase;


class RecursiveMergeTest extends TestCase
{
	public function test_mergeNew()
	{
		self::assertSame(
			[
				'a' => 23,
				'b' => null,
				'c' => ['a', 'b', 'c'],
				'_' => ['a' => 1, 'b' => 2, 'c' => 3],
				'd' => 
				[
					'd1' => "21",
					'd2' => [1, 2, 3],
					'd3' => false,
					'd4' => null,
					'd5' => 0,
					'd6' => "",
					'd7' => 
					[
						'_1' => 2,
						'_2' => 4,
						'_3' => 6
					],
					'd11' => "25",
				],
				'f' => 15,
				'e' => 44
			],
			RecursiveMerge::mergeNew(
				[
					'a' => 23,
					'b' => null,
					'c' => ['a', 'b', 'c'],
					'_' => ['a' => 1, 'b' => 2, 'c' => 3],
					'd' => 
					[
						'd1' => "21",
						'd2' => [1, 2, 3],
						'd3' => false,
						'd4' => null,
						'd5' => 0,
						'd6' => "",
						'd7' => 
						[
							'_1' => 2,
							'_2' => 4,
						]
					],
					'f' => 15
				],
				[
					'a' => 55,
					'b' => 'ss',
					'c' => ['1'],
					'_' => ['c' => 3, 'b' => 2, 'a' => 1],
					'd' => 
					[
						'd1' => 21,
						'd11' => "25",
						'd2' => [4, 5, 6],
						'd3' => 1,
						'd4' => 1,
						'd5' => 1,
						'd6' => 1,
						'd7' => 
						[
							'_3' => 6
						]
					],
					'e' => 44
				]
			)
		);
	}
	
	public function test_merge()
	{
		self::assertSame(
			[
				'a' => 55,
				'b' => 'ss',
				'c' => ['1'],
				'_' => ['a' => 1, 'b' => 2, 'c' => 3],
				'd' => 
				[
					'd1' => 21,
					'd2' => [4, 5, 6],
					'd3' => 1,
					'd4' => 1,
					'd5' => 1,
					'd6' => 1,
					'd7' => 
					[
						'_1' => 2,
						'_2' => 4,
						'_3' => 6
					],
					'd11' => "25"
				],
				'f' => 15,
				'e' => 44
			],
			RecursiveMerge::merge(
				[
					'a' => 23,
					'b' => null,
					'c' => ['a', 'b', 'c'],
					'_' => ['a' => 1, 'b' => 2, 'c' => 3],
					'd' => 
					[
						'd1' => "21",
						'd2' => [1, 2, 3],
						'd3' => false,
						'd4' => null,
						'd5' => 0,
						'd6' => "",
						'd7' => 
						[
							'_1' => 2,
							'_2' => 4,
						]
					],
					'f' => 15
				],
				[
					'a' => 55,
					'b' => 'ss',
					'c' => ['1'],
					'_' => ['c' => 3, 'b' => 2, 'a' => 1],
					'd' => 
					[
						'd1' => 21,
						'd11' => "25",
						'd2' => [4, 5, 6],
						'd3' => 1,
						'd4' => 1,
						'd5' => 1,
						'd6' => 1,
						'd7' => 
						[
							'_3' => 6
						]
					],
					'e' => 44
				]
			)
		);
	}
}